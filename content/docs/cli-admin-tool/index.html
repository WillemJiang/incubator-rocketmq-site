<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>CLI Admin Tool - Apache RocketMQ</title>




<meta name="description" content="RocketMQ provides a CLI admin tool belt to query, manage and diagnose various issues.">




<meta property="og:locale" content="en">
<meta property="og:site_name" content="Apache RocketMQ">
<meta property="og:title" content="CLI Admin Tool">


  <link rel="canonical" href="http://localhost:4000/docs/cli-admin-tool/">
  <meta property="og:url" content="http://localhost:4000/docs/cli-admin-tool/">



  <meta property="og:description" content="RocketMQ provides a CLI admin tool belt to query, manage and diagnose various issues.">



  <meta name="twitter:site" content="@ApacheRocketMQ">
  <meta name="twitter:title" content="CLI Admin Tool">
  <meta name="twitter:description" content="RocketMQ provides a CLI admin tool belt to query, manage and diagnose various issues.">
  <meta name="twitter:url" content="http://localhost:4000/docs/cli-admin-tool/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2016-12-24T13:55:43+08:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Apache RocketMQ",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Apache RocketMQ Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:4000/">Apache RocketMQ</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/docs/quick-start/">Documentation</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/year-archive/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/community/">Community</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/about/">About</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">User Guide</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/quick-start/" class="">Quick Start</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/motivation/" class="">Motivation</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/core-concept/" class="">Core Concept</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/cli-admin-tool/" class="active">CLI Admin Tool</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/cluster-deployment/" class="">Cluster Configuration & Deployment</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Developer Guide</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/motivation/" class="">Architecture & Design</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/motivation/" class="">Communication Protocol</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/core-concept/" class="">Persistence</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/cli-admin-tool/" class="active">Replication</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/cluster-deployment/" class="">Service Discovery & Load Balance</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/cluster-deployment/" class="">Message Filter</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Best Practice</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/motivation/" class="">Broker</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/motivation/" class="">Producer</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/core-concept/" class="">Consumer</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/cli-admin-tool/" class="active">Virtualization</a></li>
          
            
            

            
            

            <li><a href="http://localhost:4000/docs/cluster-deployment/" class="">Frequently Asked Questions</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="CLI Admin Tool">
    <meta itemprop="description" content="RocketMQ provides a CLI admin tool belt to query, manage and diagnose various issues.">
    <meta itemprop="datePublished" content="December 24, 2016">
    <meta itemprop="dateModified" content="December 17, 2016">

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">CLI Admin Tool
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>RocketMQ provides a CLI admin tool belt to query, manage and diagnose various issues.</p>

<aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-file-text"></i> On This Page</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#prerequisite" id="markdown-toc-prerequisite">Prerequisite</a></li>
  <li><a href="#how-to-get-it" id="markdown-toc-how-to-get-it">How To Get it</a></li>
  <li><a href="#how-to-use" id="markdown-toc-how-to-use">How to use</a></li>
  <li><a href="#command-manual" id="markdown-toc-command-manual">Command Manual</a></li>
</ul>

  </nav>
</aside>

<h1 id="prerequisite">Prerequisite</h1>

<p>Make sure you have walked through <a href="/docs/quick-start/">Quick Start</a> and <a href="/docs/core-concept/">Core Concept</a> sections.</p>

<h1 id="how-to-get-it">How To Get it</h1>

<p>The admin tool is shipped along with RocketMQ. Either you download a pre-built binary version or build from source by yourself, you already have it.</p>

<p>In case you have source code, the <a href="https://github.com/alibaba/RocketMQ/tree/master/rocketmq-tools">rocketmq-tools module</a> contains its source code.</p>

<h1 id="how-to-use">How to use</h1>

<p>The Admin Tool is very easy to use. Here, for demonstration purpose, *nix environment is assumed.</p>

<p>Change directory to ${PACKAGE}/bin, command <code class="highlighter-rouge">bash mqadmin</code>, you should see the following help menu pops out.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>The most commonly used mqadmin commands are:
   updateTopic          Update or create topic
   deleteTopic          Delete topic from broker and NameServer.
   updateSubGroup       Update or create subscription group
   deleteSubGroup       Delete subscription group from broker.
   updateBrokerConfig   Update broker's config
   updateTopicPerm      Update topic perm
   topicRoute           Examine topic route info
   topicStatus          Examine topic Status info
   topicClusterList     get cluster info for topic
   brokerStatus         Fetch broker runtime status data
   queryMsgById         Query Message by Id
   queryMsgByKey        Query Message by Key
   queryMsgByUniqueKey  Query Message by Unique key
   queryMsgByOffset     Query Message by offset
   queryMsgByUniqueKey  Query Message by Unique key
   printMsg             Print Message Detail
   sendMsgStatus        send msg to broker.
   brokerConsumeStats   Fetch broker consume stats data
   producerConnection   Query producer's socket connection and client version
   consumerConnection   Query consumer's socket connection, client version and subscription
   consumerProgress     Query consumers's progress, speed
   consumerStatus       Query consumer's internal data structure
   cloneGroupOffset     clone offset from other group.
   clusterList          List all of clusters
   topicList            Fetch all topic list from name server
   updateKvConfig       Create or update KV config.
   deleteKvConfig       Delete KV config.
   wipeWritePerm        Wipe write perm of broker in all name server
   resetOffsetByTime    Reset consumer offset by timestamp(without client restart).
   updateOrderConf      Create or update or delete order conf
   cleanExpiredCQ       Clean expired ConsumeQueue on broker.
   cleanUnusedTopic     Clean unused topic on broker.
   startMonitoring      Start Monitoring
   statsAll             Topic and Consumer tps stats
   syncDocs             Synchronize wiki and issue to github.com
   allocateMQ           Allocate MQ
   checkMsgSendRT       check message send response time
   clusterRT            List All clusters Message Send RT

See 'mqadmin help &lt;command&gt;' for more information on a specific command.
</code></pre>
</div>

<p>As you see, the most commonly used commands are listed with a brief description. To get detailed manual of each command, <code class="highlighter-rouge">bash mqadmin help &lt;command&gt;</code>. For example, command <code class="highlighter-rouge">bash mqadmin help clusterList</code> will bring out the following help text:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>usage: mqadmin clusterList [-h] [-i &lt;arg&gt;] [-m] [-n &lt;arg&gt;]
 -h,--help                Print help
 -i,--interval &lt;arg&gt;      specify intervals numbers, it is in seconds
 -m,--moreStats           Print more stats
 -n,--namesrvAddr &lt;arg&gt;   Name server address list, eg: 192.168.0.1:9876;192.168.0.2:9876
</code></pre>
</div>

<p>The help text lists possible options and interpretation of each option.</p>

<h1 id="command-manual">Command Manual</h1>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-12-17">December 17, 2016</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="http://localhost:4000/docs/core-concept/" class="pagination--pager" title="Core Concept
">Previous</a>
    
    
      <a href="http://localhost:4000/docs/cluster-deployment/" class="pagination--pager" title="Cluster Configuration and Deployment
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/ApacheRocketMQ"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/alibaba/RocketMQ/"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">Copyright &copy; 2016 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</div>
      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>





  </body>
</html>
